# <p align="center"> ‚úÇÔ∏è CarveKit ‚úÇÔ∏è  </p>

<p align="center"> <img src="docs/readme/logo.png"> </p>

<p align="center">
<img src="https://github.com/OPHoperHPO/freezed_carvekit_2023/actions/workflows/master_docker.yaml/badge.svg">
<img src="https://github.com/OPHoperHPO/freezed_carvekit_2023/actions/workflows/master.yml/badge.svg">
</p>


**********************************************************************
<p align="center"> <img align="center" width="512" height="288" src="./docs/readme/example.png"> </p>

## üìÑ –û –ø—Ä–æ–µ–∫—Ç–µ:
–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–æ–Ω–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –Ω–µ–π—Ä–æ–Ω–Ω—ã—Ö —Å–µ—Ç–µ–π

### –û–±–ª–∞—Å—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞:
–í –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è —Ä–µ—à–µ–Ω–∏—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ñ–æ–Ω–∞ –∏–º–µ—é—Ç –≤—ã—Å–æ–∫–∏–π —Å–ø—Ä–æ—Å –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –æ–±–ª–∞—Å—Ç—è—Ö: 
1. üì¢ –†–µ–∫–ª–∞–º–Ω–∞—è –∏–Ω–¥—É—Å—Ç—Ä–∏—è: –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–æ–Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ä–µ–∫–ª–∞–º–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã, –±–∞–Ω–Ω–µ—Ä—ã –∏ –ª–æ–≥–æ—Ç–∏–ø—ã. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É—Å–∫–æ—Ä–∏—Ç—å –∏ –æ–±–ª–µ–≥—á–∏—Ç—å —Ä–∞–±–æ—Ç—É –¥–∏–∑–∞–π–Ω–µ—Ä–æ–≤, —Ç–∞–∫ –∫–∞–∫ —Ä—É—á–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–æ–Ω–∞ –∑–∞–Ω–∏–º–∞–µ—Ç –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏. –¢–∞–∫–∂–µ, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—á–∏—Ç—ã–≤–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤ –≤—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö, —ç—Ç–æ –∏–≥—Ä–∞–µ—Ç –≤–∞–∂–Ω—É—é —Ä–æ–ª—å –≤ –≤–æ—Å–ø—Ä–∏—è—Ç–∏–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ä–µ–∫–ª–∞–º–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤. 
2. üõí –ü—Ä–æ–¥–∞–∂–∞ —Ç–æ–≤–∞—Ä–æ–≤ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç: –¥–ª—è —Å—Ñ–µ—Ä—ã —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –∫–æ–º–º–µ—Ä—Ü–∏–∏, –≥–¥–µ –≤–∞–∂–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä –≤ –Ω–∞–∏–±–æ–ª–µ–µ –≤—ã–≥–æ–¥–Ω–æ–º —Å–≤–µ—Ç–µ –∏ –±–æ–ª–µ–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ –ø—Ä–µ–∑–µ–Ω—Ç–æ–≤–∞—Ç—å —Å —Ü–µ–ª—å—é –ø—Ä–æ–¥–∞–∂–∏, —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–æ–Ω–∞ —è–≤–ª—è–µ—Ç—Å—è –≤–∞–∂–Ω–æ–π —á–∞—Å—Ç—å—é –ø—Ä–æ—Ü–µ—Å—Å–æ–≤. –ù–∞–ø—Ä–∏–º–µ—Ä, —Ç–æ—Ä–≥–æ–≤–∞—è –ø–ª–æ—â–∞–¥–∫–∞ ‚ÄúAmazon‚Äù –∏–º–µ–µ—Ç —Å—Ç—Ä–æ–≥–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é –ø—Ä–æ–¥—É–∫—Ç–∞, –≤–∫–ª—é—á–∞—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –æ —Ç–æ–º, —á—Ç–æ–±—ã –æ—Å–Ω–æ–≤–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±—ã–ª–æ —Ö–æ—Ä–æ—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ –Ω–∞ —á–∏—Å—Ç–æ–º –±–µ–ª–æ–º —Ñ–æ–Ω–µ. –≠—Ç–æ –ø—Ä–∞–≤–∏–ª–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ –æ—Å—Ç–∞–µ—Ç—Å—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–µ, –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –µ–¥–∏–Ω—ã–π –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥ —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ –∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ. 
3. üè• –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –∏ –Ω–∞—É—á–Ω—ã–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞: –¥–ª—è —Ç–∞–∫–∏—Ö –≤–∏–¥–æ–≤ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π –∫–∞–∫ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–∞—è —Ç–æ–º–æ–≥—Ä–∞—Ñ–∏—è –∏ –º–∞–≥–Ω–∏—Ç–Ω–æ-—Ä–µ–∑–æ–Ω–∞–Ω—Å–Ω–∞—è —Ç–æ–º–æ–≥—Ä–∞—Ñ–∏—è —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–æ–Ω–∞ –º–æ–∂–µ—Ç —Ä–µ—à–∞—Ç—å —Ç–∞–∫—É—é –∑–∞–¥–∞—á—É –∫–∞–∫ –ø–æ–ª—É—á–µ–Ω–∏–µ –±–æ–ª–µ–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–π, –≤ —Ç–æ–º —á–∏—Å–ª–µ –∏ –Ω–∞ —Ä–∞–Ω–Ω–∏—Ö —Å—Ç–∞–¥–∏—è—Ö.
4. üëÅÔ∏è –ö–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–µ –∑—Ä–µ–Ω–∏–µ –∏ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç: —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–æ–Ω–∞ —à–∏—Ä–æ–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –æ–±–ª–∞—Å—Ç–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–≥–æ –∑—Ä–µ–Ω–∏—è –∏ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞ –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö. –ü—É—Ç–µ–º —É–¥–∞–ª–µ–Ω–∏—è —Ñ–æ–Ω–∞ –º–æ–∂–Ω–æ —É–ø—Ä–æ—Å—Ç–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ —É–≤–µ–ª–∏—á–∏—Ç—å —Ç–æ—á–Ω–æ—Å—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤. –û–¥–Ω–∏–º –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —è–≤–ª—è–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –Ω–∞—É—á–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ —è–¥–µ—Ä–Ω–æ–π —Ç–µ—Ö–Ω–∏–∫–∏ –∏ —Ä–∞–¥–∏–∞—Ü–∏–æ–Ω–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–∞–¥–∏–æ–∞–∫—Ç–∏–≤–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤, –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ —Å–ø–æ—Å–æ–±—Å—Ç–≤—É–µ—Ç –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–º—É –∞–Ω–∞–ª–∏–∑—É, –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é —Ä–∞–¥–∏–æ–∞–∫—Ç–∏–≤–Ω—ã–º–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏ –∏ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—é –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. 
–£–¥–∞–ª–µ–Ω–∏–µ —Ñ–æ–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø—Ä–∏–∫–ª–∞–¥–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏—è—Ö –≤ —Ä–∞–∑–Ω—ã—Ö –æ–±–ª–∞—Å—Ç—è—Ö. –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∑–∞–¥–∞—á–∏ –∏ –Ω—É–∂–¥—ã.

## üñºÔ∏è –ù–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö CarveSet V2.0:
–ú—ã —Å–æ–±—Ä–∞–ª–∏ –æ–±—à–∏—Ä–Ω—ã–π –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö, –æ—Ö–≤–∞—Ç—ã–≤–∞—é—â–∏–π –Ω–∞–∏–±–æ–ª–µ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã –æ–±—ä–µ–∫—Ç–æ–≤, 
–ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ñ–æ–Ω–∞.

–û–Ω –≤–∫–ª—é—á–∞–µ—Ç —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤, –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—â–∏—Ö 9 —Ä–∞–∑–ª–∏—á–Ω—ã–º –∫–ª–∞—Å—Å–∞–º.

#### –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∞—Å—Å–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –Ω–∞–±–æ—Ä–µ –¥–∞–Ω–Ω—ã—Ö CarveSet V2.0:

| –ö–ª–∞—Å—Å –æ–±—ä–µ–∫—Ç–æ–≤                | –ö–æ–ª-–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π |
|-------------------------------|--------------------|
| üöó –∞–≤—Ç–æ–º–æ–±–∏–ª–∏                 | 1878               |
| üëó –æ–¥–µ–∂–¥–∞                     | 1840               |
| üè† –ø—Ä–µ–¥–º–µ—Ç—ã –±—ã—Ç–∞              | 1878               |
| üì± —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞                | 1806               |
| üß∏ –¥–µ—Ç—Å–∫–∏–µ –∏–≥—Ä—É—à–∫–∏            | 1785               |
| üç≥ –∫—É—Ö–æ–Ω–Ω—ã–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏    | 1878               |
| üë®‚Äçüë©‚Äçüëß‚Äçüë¶ –ª—é–¥–∏              | 1777               |
| üè° –æ–±—ä–µ–∫—Ç—ã –≤ –∂–∏–ª—ã—Ö –ø–æ–º–µ—â–µ–Ω–∏—è—Ö | 1777               |
| üêæ –∂–∏–≤–æ—Ç–Ω—ã–µ                   | 1878               |

–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ –Ω–∞–±–æ—Ä–µ –¥–∞–Ω–Ω—ã—Ö: **16 497**.
####  –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–∞–∑–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ –Ω–∞–±–æ—Ä–µ –¥–∞–Ω–Ω—ã—Ö

1.  **CarveSet** - —Å–æ–¥–µ—Ä–∂–∏—Ç 3 172 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤—ã—Å–æ–∫–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ —Ä–∞–∑–º–µ—Ä–æ–º –ø—Ä–∏–º–µ—Ä–Ω–æ 2500x2500 –ø–∏–∫—Å–µ–ª–µ–π, —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö –≤—Ä—É—á–Ω—É—é –∏–∑ [Pexels](https://www.pexels.com/), [Unsplash](https://unsplash.com/).
2.  **SOPG** - —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 13 325 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, —É–≤–µ–ª–∏—á–µ–Ω–Ω—ã—Ö –≤ 4 —Ä–∞–∑–∞ –∏–∑ –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö [SOPG](https://huggingface.co/datasets/absinc/sopg), 
—Ä–∞–∑–º–µ—Ä–æ–º –ø—Ä–∏–º–µ—Ä–Ω–æ 2048x1536 –ø–∏–∫—Å–µ–ª–µ–π. 

–ë–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è: [–ù–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö CarveSet](./docs/readme/carveset/ru.md)

## üéÜ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:  
- –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –≤—ã—Ö–æ–¥–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –†–∞–±–æ—Ç–∞–µ—Ç –≤ –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–º —Ä–µ–∂–∏–º–µ
- –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ NVIDIA CUDA –∏ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ FP16: –±—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å –Ω–∏–∑–∫–∏–º –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ–º –ø–∞–º—è—Ç–∏
- –õ–µ–≥–∫–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∏ –∑–∞–ø—É—Å–∫
- 100% —Å–æ–≤–º–µ—Å—Ç–∏–º–æ–µ —Å remove.bg API(REST API —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø—Ä–∏ –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º FastAPI)
- –£–¥–∞–ª—è–µ—Ç —Ñ–æ–Ω —Å –≤–æ–ª–æ—Å
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –ª—É—á—à–µ–≥–æ –º–µ—Ç–æ–¥–∞ –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü—Ä–æ—Å—Ç–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–∞—à–∏–º –∫–æ–¥–æ–º
- –ú–æ–¥–µ–ª–∏ —Ä–∞–∑–º–µ—â–µ–Ω—ã –Ω–∞ [HuggingFace](https://huggingface.co/Carve)

## üèõÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
[–û–ø–∏—Å–∞–Ω–∏–µ](./docs/readme/architecture/ru.md)

## üìë –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º –∏ –∑–∞–º–µ—Ç–∫–∏ –ø–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ü–û
[–û–ø–∏—Å–∞–Ω–∏–µ](./docs/readme/algos/ru.md)

## üñºÔ∏è –ú–µ—Ç–æ–¥—ã –ø—Ä–µ–¥ –∏ –ø–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:
### üîç –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–¥–µ–Ω–∏–π:
* `none` - –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.
* [`autoscene`](https://huggingface.co/Carve/scene_classifier/) - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø —Å—Ü–µ–Ω—ã —Å –ø–æ–º–æ—â—å—é –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ –∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –º–æ–¥–µ–ª—å. (–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é)
* `auto` - –í—ã–ø–æ–ª–Ω—è–µ—Ç –≥–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ª—É—á—à–∏–π –º–µ—Ç–æ–¥ —É–¥–∞–ª–µ–Ω–∏—è —Ñ–æ–Ω–∞. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å—Ü–µ–Ω—ã –≤–º–µ—Å—Ç–µ.
> ### –í–∞–∂–Ω–æ: 
> 1. `AutoScene` –∏ `auto` –º–æ–≥—É—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–æ–¥–µ–ª—å –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, —É–∫–∞–∑–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º, –±–µ–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.
> –ò—Ç–∞–∫, –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –º–æ–¥–µ–ª—å, —Å–¥–µ–ª–∞—Ç—å –≤—Å–µ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º–∏ –∏ —Ç. –¥., –≤–∞–º —Å–ª–µ–¥—É–µ—Ç —Å–Ω–∞—á–∞–ª–∞ –æ—Ç–∫–ª—é—á–∏—Ç—å –º–µ—Ç–æ–¥—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏!
> 2. –ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –¥–ª—è –º–µ—Ç–æ–¥–∞ `auto` –≤—ã–±–∏—Ä–∞—é—Ç—Å—è —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏ –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤, —Ç–∞–∫ –∫–∞–∫ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Ç–∞–∫–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–∏–ø–æ–≤ —Å—Ü–µ–Ω.
> –í –±—É–¥—É—â–µ–º, –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ –º–æ–¥–µ–ª–µ–π, –∞–≤—Ç–æ–ø–æ–¥–±–æ—Ä –±—É–¥–µ—Ç –ø–µ—Ä–µ–ø–∏—Å–∞–Ω –≤ –ª—É—á—à—É—é —Å—Ç–æ—Ä–æ–Ω—É.

### ‚úÇ –ú–µ—Ç–æ–¥—ã –ø–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∏:
* `none` - –º–µ—Ç–æ–¥—ã –ø–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
* `fba` - –≠—Ç–æ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º —É–ª—É—á—à–∞–µ—Ç –≥—Ä–∞–Ω–∏—Ü—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Ñ–æ–Ω–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å –≤–æ–ª–æ—Å–∞–º–∏ –∏ —Ç.–¥. —Å –ø–æ–º–æ—â—å—é –Ω–µ–π—Ä–æ–Ω–Ω–æ–π —Å–µ—Ç–∏ FBA Matting.
* `cascade_fba` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) - –≠—Ç–æ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º —É—Ç–æ—á–Ω—è–µ—Ç –º–∞—Å–∫—É —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏ —Å –ø–æ–º–æ—â—å—é –Ω–µ–π—Ä–æ–Ω–Ω–æ–π —Å–µ—Ç–∏ CascadePSP, –∞ –∑–∞—Ç–µ–º –ø—Ä–∏–º–µ–Ω—è–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º FBA.

## üè∑ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–º –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–µ:
1. 
```bash
# Arch/Arch-based
pacman -S lib32-libglvnd
# Debian/Ubuntu
apt install libgl1
```

2. `pip install git+https://github.com/OPHoperHPO/freezed_carvekit_2023 --extra-index-url https://download.pytorch.org/whl/cpu`
> –ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–µ—Ä—Å–∏–∏ Python –æ—Ç 3.8 –¥–æ 3.10.4.

> ### –í–∞–∂–Ω–æ:
> –í —Ö–æ–¥–µ —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –∫–æ–º–ø–ª–µ–∫—Å–∞ –Ω–∞ –¶–ü –≤—ã –º–æ–∂–µ—Ç–µ —É–≤–∏–¥–µ—Ç—å —Å–ª–µ–¥—É—é—â–µ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ \
> \
> UserWarning: The CascadePSP finetuned model has an extremely slow processing bug on the CPU. Use GPU to load it. Using pretrained model instead. \
> \
> –í —Å–≤—è–∑–∏ —Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º–∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—è–º–∏ –º–æ–¥–µ–ª–∏ –∏/–∏–ª–∏ PyTorch –¥–æ–æ–±—É—á–µ–Ω–Ω–∞—è –Ω–∞ –Ω–∞—à–µ–º –Ω–∞–±–æ—Ä–µ –¥–∞–Ω–Ω—ã—Ö –º–æ–¥–µ–ª—å –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –Ω–∞ –¶–ü, –≤ —Å–≤—è–∑–∏ —Å —á–µ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è. –í —Å–≤—è–∑–∏ —Å —Ç–µ–º, —á—Ç–æ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –¶–ü –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ–π –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ –∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º —Å–ø–æ—Å–æ–±–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–∏ –ø–æ–º–æ—â–∏ –ì–ü, –∑–∞–¥–∞—á–∞ –ø–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—é –∏, –≤–æ–∑–º–æ–∂–Ω–æ, —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—é —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º—ã –∏–º–µ–µ—Ç –Ω–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
## üè∑ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–º –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–µ:  
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä NVIDIA —Å 8 –ì–ë –≤–∏–¥–µ–æ–ø–∞–º—è—Ç–∏.
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `CUDA Toolkit –∏ –í–∏–¥–µ–æ–¥—Ä–∞–π–≤–µ—Ä –¥–ª—è –≤–∞—à–µ–π –≤–∏–¥–µ–æ–∫–∞—Ä—Ç—ã.`
3. 
```bash
# Arch/Arch-based
pacman -S lib32-libglvnd glib2 lib32-libglvnd
# Debian/Ubuntu
apt install libgl1 libglib2.0-0
```

4. `pip install git+https://github.com/OPHoperHPO/freezed_carvekit_2023 --extra-index-url https://download.pytorch.org/whl/cu113`
> –ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–µ—Ä—Å–∏–∏ Python –æ—Ç 3.8 –¥–æ 3.10.4.
> –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ–±–µ—Ä–∏—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ carvekit –ø—Ä—è–º–æ –∏–∑ —ç—Ç–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.
> –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–µ –¥–≤–æ–∏—á–Ω—ã–µ —Ñ–∞–π–ª—ã –∏–∑ PyPI –∏–ª–∏ –¥—Ä—É–≥–∏—Ö —É–∂–µ –∏–º–µ—é—â–∏—Ö—Å—è —Å—Å—ã–ª–æ–∫. –≠—Ç–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.
## üß∞ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –∫–æ–¥:  
### –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –±—ã—Å—Ç—Ä–µ–µ –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ —Ä–∞–±–æ—Ç–µ –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
``` python
import torch
from carvekit.api.high import HiInterface

# Check doc strings for more information
interface = HiInterface(object_type="auto",  # Can be "object" or "hairs-like" or "auto"
                        batch_size_seg=5,
                        batch_size_pre=5,
                        batch_size_matting=1,
                        batch_size_refine=1,
                        device='cuda' if torch.cuda.is_available() else 'cpu',
                        seg_mask_size=960,  # Use 960 for Tracer B7 and 1024 for ISNet
                        matting_mask_size=2048,
                        refine_mask_size=900,
                        trimap_prob_threshold=231,
                        trimap_dilation=30,
                        trimap_erosion_iters=5,
                        fp16=False)
images_without_background = interface(['./tests/data/cat.jpg'])
cat_wo_bg = images_without_background[0]
cat_wo_bg.save('2.png')

                   
```
### –ê–Ω–∞–ª–æ–≥ –º–µ—Ç–æ–¥–∞ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ `auto` –∏–∑ cli
``` python
from carvekit.api.autointerface import AutoInterface
from carvekit.ml.wrap.scene_classifier import SceneClassifier
from carvekit.ml.wrap.yolov4 import SimplifiedYoloV4

scene_classifier = SceneClassifier(device="cpu", batch_size=1)
object_classifier = SimplifiedYoloV4(device="cpu", batch_size=1)

interface = AutoInterface(scene_classifier=scene_classifier,
                          object_classifier=object_classifier,
                          segmentation_batch_size=1,
                          postprocessing_batch_size=1,
                          postprocessing_image_size=2048,
                          refining_batch_size=1,
                          refining_image_size=900,
                          segmentation_device="cpu",
                          fp16=False,
                          postprocessing_device="cpu")
images_without_background = interface(['./tests/data/cat.jpg'])
cat_wo_bg = images_without_background[0]
cat_wo_bg.save('2.png')
```
### –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ–≤–µ—Å—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É
``` python
import PIL.Image

from carvekit.api.interface import Interface
from carvekit.ml.wrap.fba_matting import FBAMatting
from carvekit.ml.wrap.scene_classifier import SceneClassifier
from carvekit.ml.wrap.cascadepsp import CascadePSP
from carvekit.ml.wrap.tracer_b7 import TracerUniversalB7
from carvekit.pipelines.postprocessing import CasMattingMethod
from carvekit.pipelines.preprocessing import AutoScene
from carvekit.trimap.generator import TrimapGenerator

# Check doc strings for more information
seg_net = TracerUniversalB7(device='cpu',
                            batch_size=1, fp16=False)
cascade_psp = CascadePSP(device='cpu',
                         batch_size=1,
                         input_tensor_size=900,
                         fp16=False,
                         processing_accelerate_image_size=2048,
                         global_step_only=False)
fba = FBAMatting(device='cpu',
                 input_tensor_size=2048,
                 batch_size=1, fp16=False)

trimap = TrimapGenerator(prob_threshold=231, kernel_size=30, erosion_iters=5)

scene_classifier = SceneClassifier(device='cpu', batch_size=5)
preprocessing = AutoScene(scene_classifier=scene_classifier)

postprocessing = CasMattingMethod(
    refining_module=cascade_psp,
    matting_module=fba,
    trimap_generator=trimap,
    device='cpu')

interface = Interface(pre_pipe=preprocessing,
                      post_pipe=postprocessing,
                      seg_pipe=seg_net)

image = PIL.Image.open('tests/data/cat.jpg')
cat_wo_bg = interface([image])[0]
cat_wo_bg.save('2.png')     
```


## üß∞ –ó–∞–ø—É—Å—Ç–∏—Ç—å —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å:  
 * ```python3 -m carvekit  -i <input_path> -o <output_path> --device <device>```  
 
### –í—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã:  
````
Usage: carvekit [OPTIONS]

  Performs background removal on specified photos using console interface.

Options:
  -i ./2.jpg                   –ü—É—Ç—å –¥–æ –≤—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –∏–ª–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏. –ü—É—Ç—å –¥–æ –î–ò–†–ï–ö–¢–û–†–ò–ò –¥–æ–ª–∂–µ–Ω 
                               –±—ã—Ç—å —É–∫–∞–∑–∞–Ω –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ --recursive [–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω]
  -o ./2.png                   –ü—É—Ç—å –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:
                               /<–ø—É—Ç—å –¥–æ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞>/<–∏–º—è —Ñ–∞–π–ª–∞>_bg_removed.png
  --pre [none|autoscene|auto]  –ú–µ—Ç–æ–¥ –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∏, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: autoscene
  --post [none|fba|cascade_fba]
                               –ú–µ—Ç–æ–¥ –ø–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∏, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: cascade_fba
  --net [u2net|deeplabv3|basnet|tracer_b7|isnet]
                               –ù–µ–π—Ä–æ–Ω–Ω–∞—è —Å–µ—Ç—å –¥–ª—è —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: tracer_b7
  --recursive                  –í–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ –ø–∞–ø–∫–µ
  --batch_size 10              –†–∞–∑–º–µ—Ä –ø–∞–∫–µ—Ç–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –≤ –û–ó–£ 
  --batch_size_pre 5           –†–∞–∑–º–µ—Ä –ø–∞–∫–µ—Ç–∞ –¥–ª—è —Å–ø–∏—Å–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è
                               –º–µ—Ç–æ–¥–æ–º –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
  --batch_size_seg 5           –†–∞–∑–º–µ—Ä –ø–∞–∫–µ—Ç–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å –ø–æ–º–æ—â—å—é
                               —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏

  --batch_size_mat 1           –†–∞–∑–º–µ—Ä –ø–∞–∫–µ—Ç–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å –ø–æ–º–æ—â—å—é
                               –º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

  --batch_size_refine 1        –†–∞–∑–º–µ—Ä –ø–∞–∫–µ—Ç–∞ –¥–ª—è —Å–ø–∏—Å–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è —É—Ç–æ—á–Ω—è—é—â–µ–π —Å–µ—Ç—å—é

  --seg_mask_size 960          –†–∞–∑–º–µ—Ä –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è —Å–µ–≥–º–µ–Ω—Ç–∏—Ä—É—é—â–µ–π
                               –Ω–µ–π—Ä–æ–Ω–Ω–æ–π —Å–µ—Ç–∏

  --matting_mask_size 2048     –†–∞–∑–º–µ—Ä –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –º–∞—Ç–∏—Ä—É—é—â–µ–π
                               –Ω–µ–π—Ä–æ–Ω–Ω–æ–π —Å–µ—Ç–∏
  --refine_mask_size 900       –†–∞–∑–º–µ—Ä –≤—Ö–æ–¥–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è —É—Ç–æ—á–Ω—è—é—â–µ–π –Ω–µ–π—Ä–æ–Ω–Ω–æ–π —Å–µ—Ç–∏.
  --trimap_dilation 30         –†–∞–∑–º–µ—Ä —Ä–∞–¥–∏—É—Å–∞ —Å–º–µ—â–µ–Ω–∏—è –æ—Ç –º–∞—Å–∫–∏ –æ–±—ä–µ–∫—Ç–∞ –≤ –ø–∏–∫—Å–µ–ª—è—Ö –ø—Ä–∏ 
                               —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏
                               
  --trimap_erosion 5           –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π —ç—Ä–æ–∑–∏–∏, –∫–æ—Ç–æ—Ä—ã–º –±—É–¥–µ—Ç –ø–æ–¥–≤–µ—Ä–≥–∞—Ç—å—Å—è –º–∞—Å–∫–∞ 
                               –æ–±—ä–µ–∫—Ç–∞ –ø–µ—Ä–µ–¥ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ–º –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏.
                               
  --trimap_prob_threshold 231  –ü–æ—Ä–æ–≥ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥—É—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è
                               –æ–ø–µ—Ä–∞—Ü–∏–∏ prob_filter –∏ prob_as_unknown_area

  --device cpu                 –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏.
  
  --fp16                       –í–∫–ª—é—á–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–æ —Å–º–µ—à–∞–Ω–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç—å—é. 
                               –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –¥–ª—è –º–æ–¥–µ–ª–∏ U2NET
                               –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ —Å CUDA. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ —è–≤–ª—è–µ—Ç—Å—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–æ–π!
                               
  --help                       –ü–æ–∫–∞–∑–∞—Ç—å —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –≤—ã–π—Ç–∏.

````
## üì¶ –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ / FastAPI HTTP API —Å–µ—Ä–≤–µ—Ä —Å –ø–æ–º–æ—â—å—é Docker:

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API —á–µ—Ä–µ–∑ Docker ‚Äî —ç—Ç–æ **–±—ã—Å—Ç—Ä—ã–π** –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–∏—Ç—å —Ä–∞–±–æ—Ç–∞—é—â–∏–π API.\


<p align="center"> 
<img src="./docs/imgs/screenshot/frontend.png"> 
<img src="./docs/imgs/screenshot/docs_fastapi.png"> 
</p>

>### –í–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:
>1. –û–±—Ä–∞–∑ Docker –∏–º–µ–µ—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ –∞–¥—Ä–µ—Å—É `/` –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∫ API –ø–æ –∞–¥—Ä–µ—Å—É `/docs`.
>2. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, –ø–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ "Remove background" –≤–æ–∑–º–æ–∂–Ω–æ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–µ—Ä–≤–æ–≥–æ –∏—Ö–æ–±—Ä–∞–∂–µ–Ω–∏—è. –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ. –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å —Ç–µ–∫—É—â–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –º–æ–∂–Ω–æ –≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –Ω–∞ –≤–∫–ª–∞–¥–∫–µ "–°–µ—Ç—å". –í–æ–∑–º–æ–∂–Ω–æ –≤ –±—É–¥—É—â–∏—Ö –≤–µ—Ä—Å–∏—è—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±—É–¥–µ—Ç —É–¥–æ–±–Ω–µ–µ, –Ω–æ –Ω–∞ —Ç–µ–∫—É—â–∏–π –º–æ–º–µ–Ω—Ç web –≤–µ—Ä—Å–∏—è –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ–π, –ø–æ—Å–∫–æ–ª—å–∫—É —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ª–∏—à—å –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–º–æ–∂–Ω–∞ –∏ –ø—Ä–∏ –ø–æ–º–æ—â–∏ CLI –∏ –∫–æ–¥–∞.
>3. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è **–≤–∫–ª—é—á–µ–Ω–∞** –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. \
> **–ö–ª—é—á–∏ –¥–æ—Å—Ç—É–ø–∞ —Å–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è** –ø—Ä–∏ –∫–∞–∂–¥–æ–º –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è. \
> `docker-compose.<device>.yml` –¥–ª—è –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.
>4. **–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω—Ç–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è API –∫–ª—é—á.** \
> –í—ã –¥–æ–ª–∂–Ω—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–≤–æ–∏ –∫–ª—é—á–∏ –¥–æ—Å—Ç—É–ø–∞ –≤ –ª–æ–≥–∞—Ö –¥–æ–∫–µ—Ä-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. –í –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–µ –ª–æ–≥–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ api. \
> "auth":{"auth":true,"admin_token":"‚Ä¶.","allowed_tokens":["‚Ä¶"]}} \
> admin_token ‚Äî —ç—Ç–æ –∫–ª—é—á, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –æ–±—Ä–∞–±–æ—Ç–∫–µ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥, /api/removebg, /api/admin/config. \
> allowed_tokens ‚Äî —ç—Ç–æ –∫–ª—é—á–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –æ–±—Ä–∞–±–æ—Ç–∫–µ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥, /api/removebg.
>5. –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã —Å API.\
> –°–º. `docs/code_examples/python` –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π
### üî® –°–æ–∑–¥–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `docker, docker-compose, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è —Ö–æ—Å—Ç —Å–∏—Å—Ç–µ–º—ã. (—Å–º. –Ω–∏–∂–µ)`
2. –°–æ–±–µ—Ä–∏—Ç–µ –æ–±—Ä–∞–∑: `docker-compose -f docker-compose.cpu.yml build` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ –¶–ü
3. –∏–ª–∏ `docker-compose -f docker-compose.cuda.yml build` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ –ì–ü.
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `docker-compose -f docker-compose.cpu.yml up -d`  # –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ –¶–ü
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `docker-compose -f docker-compose.cuda.yml up -d`  # –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ –ì–ü
> –¢–∞–∫–∂–µ –≤—ã –º–æ–∂–µ—Ç–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∞–ø–∫–∏ —Å –≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ –≤ docker container
> –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–æ–∫–µ—Ä–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
> —Ñ–∞–π–ª–æ–≤ –≤ —ç—Ç–æ–π –ø–∞–ø–∫–µ.

> ### –í–∞–∂–Ω–æ:
> –ü—Ä–∏ —Å–±–æ—Ä–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –º–æ–≥—É—Ç –ø–æ—è–≤–∏—Ç—å—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –≤–∏–¥–∞
> 
> debconf: delaying package configuration, since apt-utils is not installed
> 
> –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ —Å–≤—è–∑–∞–Ω–æ —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–º –±–∞–∑–æ–≤—ã–º –æ–±—Ä–∞–∑–æ–º python –∏ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ. –í —Å–≤—è–∑–∏ —Å —Ç–µ–º, —á—Ç–æ –Ω–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–±–æ—Ä–∫–∏ —ç—Ç–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –Ω–µ –≤–ª–∏—è–µ—Ç, –∏–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ –µ–≥–æ –ø–æ—è–≤–ª–µ–Ω–∏–µ
> 
> –¢–∞–∫ –∂–µ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ì–ü —Ç—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ì–ü —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã Docker.
> 
> –î–ª—è Arch-based –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–æ–≤ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞–∫–µ—Ç—ã nvidia-container-toolkit nvidia-container-runtime –∏–∑ aur
> 
> yay -S nvidia-container-toolkit nvidia-container-runtime
> 
> –î–ª—è Debian-based –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–æ–≤ —Å–ª–µ–¥—É–π—Ç–µ [–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º Nvidia](https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/latest/install-guide.html)
> –°–æ–∑–¥–∞–Ω–∏–µ docker –æ–±—Ä–∞–∑–∞ –≤ Windows –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è. –û–¥–Ω–∞–∫–æ –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å WSL2 –∏–ª–∏ ¬´Linux container mode¬ª –≤ Docker Desktop.

## ‚òëÔ∏è –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### ‚òëÔ∏è –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ª–æ–∫–∞–ª—å–Ω—ã–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º
1. `pip install -r requirements_test.txt`
2. `pytest`

### ‚òëÔ∏è –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å Docker
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `docker-compose -f docker-compose.cpu.yml run carvekit_api pytest`  # –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –¶–ü
2. Run `docker-compose -f docker-compose.cuda.yml run carvekit_api pytest`  # –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ GPU

## üë™ –°—Å—ã–ª–∫–∏, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–∏—è –∏ –¥—Ä—É–≥–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è: [–ë–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏](./docs/readme/other/ru.md)
## üìß __–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å__
–ë—É–¥—É —Ä–∞–¥ –æ—Ç–∑—ã–≤–∞–º –æ –ø—Ä–æ–µ–∫—Ç–µ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º –æ–± –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.

–ü–æ –≤—Å–µ–º –≤–æ–ø—Ä–æ—Å–∞–º –ø–∏—Å–∞—Ç—å: [farvard34@gmail.com](mailto://farvard34@gmail.com)
